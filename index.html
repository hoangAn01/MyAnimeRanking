<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>B·∫£ng X·∫øp H·∫°ng Anime</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <h1>üèÜ B·∫£ng X·∫øp H·∫°ng Anime üèÜ</h1>
    <ul id="animeList" class="anime-list">
      <!-- D·ªØ li·ªáu anime s·∫Ω ƒë∆∞·ª£c ch√®n v√†o ƒë√¢y b·∫±ng JavaScript -->
    </ul>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const animeListElement = document.getElementById('animeList');
      animeListElement.innerHTML = '<li>ƒêang t·∫£i d·ªØ li·ªáu t·ª´ server...</li>';

      // Use a placeholder for the production API URL.
      // When deployed, this should be the URL of your backend server.
      const apiUrl = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1'
        ? 'http://localhost:3000/api/animes'
        : 'https://your-backend-url.com/api/animes'; // <-- B·∫†N S·∫º C·∫¶N THAY TH·∫æ URL N√ÄY

      fetch(apiUrl)
        .then((response) => {
          if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
          }
          return response.json();
        })
        .then((animes) => {
          if (animes.length === 0) {
            animeListElement.innerHTML = '<li>Ch∆∞a c√≥ d·ªØ li·ªáu anime trong database.</li>';
            return;
          }

          const animeHTML = animes
            .map(
              (anime) => `
            <li class="anime-item">
              <div class="anime-details">
                <h2 class="anime-title">${anime.title}</h2>
                <p class="anime-info"><strong>ƒêi·ªÉm:</strong> ${anime.rating} ‚≠ê</p>
                <p class="anime-info"><strong>Th·ªÉ lo·∫°i:</strong> ${anime.genre}</p>
                <p class="anime-description">${anime.description}</p>
              </div>
            </li>
          `
            )
            .join('');
          animeListElement.innerHTML = animeHTML;
        })
        .catch((error) => {
          console.error('Error fetching anime data:', error);
          animeListElement.innerHTML = '<li>C√≥ l·ªói x·∫£y ra khi t·∫£i d·ªØ li·ªáu. Vui l√≤ng ki·ªÉm tra console.</li>';
        });
    });
  </script>
</body>
</html>
